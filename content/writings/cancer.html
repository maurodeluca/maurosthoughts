<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ===== PAGE META ===== -->
  <title>maurosthoughts - thecellularparadox</title>
  <meta name="description" content="The cellular paradox — a writing from maurosthoughts." />
  <meta name="author" content="mauro" />
  <link rel="canonical" href="/content/writings/cancer.html" />

  <!-- ===== Open Graph / Twitter ===== -->
  <meta property="og:type" content="article" />
  <meta property="og:title" content="thecellularparadox — maurosthoughts" />
  <meta property="og:description" content="The cellular paradox  — a writing from maurosthoughts." />
  <meta property="og:url" content="/content/writings/cancer.html" />
  <meta name="twitter:card" content="summary" />

  <!-- ===== Styles ===== -->
  <link rel="stylesheet" href="../../css/styles.css">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">

  <!-- ===== Structured Data ===== -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "thecellularparadox",
    "author": {
      "@type": "Person",
      "name": "mauro"
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "/content/writings/cancer.html"
    },
    "description": "The cellular paradox  — a writing from maurosthoughts."
  }
  </script>
</head>

<canvas id="lifeCanvas"></canvas>

<body class="writing-page">
  <!-- ===== WRITING SECTION ===== -->
  <section data-lock>
    <div class="content">

      <!-- Controls -->
      <div class="control-buttons">
        <button id="lifeBtn" class="typing-toggle">life</button>
        <button id="skipTyping" class="typing-toggle">skip</button>
        <button id="shareBtn" class="typing-toggle share-btn" aria-label="Share this page">share</button>
      </div>

      <!-- Terminal Header -->
      <div class="terminal">
        <div class="cursor-line">
          thought.<span class="cursor"></span>
        </div>
      </div>

      <!-- Title -->
      <h1>
        the<span class="accent"><span class="space"> </span>cellular</span><span class="space"> </span>paradox
      </h1>

      <!-- Intro Typed Text -->
      <div class="typed" id="intro"></div>

      <div class="divider"></div>

      <!-- Read Audio Button -->
      <div id="read-text" class="audio-icon" data-target="/content/writings/cancer.txt">
        <svg viewBox="0 0 24 24" width="28" height="28">
          <path d="M3 9v6h4l5 4V5L7 9H3z" />
          <path d="M16 8c1.5 1.5 1.5 6.5 0 8" class="wave" />
          <path d="M18.5 5.5c3 3 3 10 0 13" class="wave" />
        </svg>
      </div>

      <!-- Main Typed Body -->
      <div class="typed" id="writing"></div>
    </div>
  </section>

  <!-- ===== RADIO PLAYER ===== -->
  <div id="radio-player" class="radio-player" aria-hidden="false">
    <div class="radio-controls-compact">
      <svg class="music-icon" viewBox="0 0 24 24" width="16" height="16" fill="var(--accent)">
        <path d="M12 3v10.55A4 4 0 1 0 14 17V7h4V3h-6z" />
      </svg>
      <button class="radio-play" aria-label="Play/Pause" data-playing="false">▶</button>
      <button id="radio-minimize" aria-label="Toggle Radio">
        <svg class="radio-icon" width="14" height="14" viewBox="0 0 24 24" fill="none">
          <line x1="5" y1="12" x2="19" y2="12" stroke="currentColor" stroke-width="2" />
        </svg>
      </button>
    </div>

    <div class="radio-progress">
      <div class="radio-progress-fill"></div>
    </div>

    <input class="radio-volume" type="range" min="0" max="1" step="0.01" value="0.5" aria-label="Volume">
  </div>

  <!-- ===== NAV ===== -->
  <nav id="nav" class="visible">
    <a href="../../index.html">home</a>
  </nav>

  <!-- ===== HELP TERMINAL ===== -->
  <a href="#" id="help-terminal" class="help-corner" aria-label="Help" style="display:none;">
    <svg viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="1.6"
      stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10" />
      <path d="M9.5 9a2.5 2.5 0 1 1 4.5 1.5c-.5.7-1.5 1.2-1.5 2.5" />
      <circle cx="12" cy="17" r="1" />
    </svg>
  </a>

  <!-- ===== TERMINAL OVERLAY ===== -->
  <div id="terminal-overlay" class="terminal-overlay" aria-hidden="true" style="display:none;">
    <div class="terminal-window">
      <div id="terminal-output"></div>
      <div class="terminal-input-line">
        <span class="prompt">></span>
        <input type="text" id="terminal-input" autocomplete="off" spellcheck="false" />
      </div>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="copyright">
    <p>&copy; 2026 maurosthoughts. all rights reserved.</p>
  </footer>

  <!-- ===== Scripts ===== -->
  <script type="module" src="../../js/pages/cancer.js" defer></script>
  <script type="module" src="../../js/terminal.js" defer></script>
  <script type="module" src="../../js/radio.js" defer></script>
  <script type="module" src="../../js/read.js"></script>
  <script type="module" src="../../js/share.js"></script>
  <script type="module" src="../../js/main.js"></script>
  <script>
    const lifeBtn = document.getElementById('lifeBtn');
    const canvas = document.getElementById('lifeCanvas');
    const ctx = canvas.getContext('2d');

    let lifeRunning = false;
    let lifeGrid = [];
    let lifeCols = 0;
    let lifeRows = 0;
    const lifeCellSize = 2;

    // Initialize canvas and grid
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      lifeCols = Math.floor(canvas.width / lifeCellSize);
      lifeRows = Math.floor(canvas.height / lifeCellSize);

      // Create new grid and randomize
      lifeGrid = Array.from({ length: lifeRows }, () =>
        Array.from({ length: lifeCols }, () => Math.random() > 0.3 ? 1 : 0)
      );
    }

    // Draw current grid
    function drawLife() {
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = '#00FFAA';
      for (let r = 0; r < lifeRows; r++) {
        for (let c = 0; c < lifeCols; c++) {
          if (lifeGrid[r][c]) {
            ctx.fillRect(c * lifeCellSize, r * lifeCellSize, lifeCellSize, lifeCellSize);
          }
        }
      }
    }

    // Compute next generation
    function updateLife() {
      const next = lifeGrid.map(arr => [...arr]);

      for (let r = 0; r < lifeRows; r++) {
        for (let c = 0; c < lifeCols; c++) {
          let neighbors = 0;
          for (let dr = -1; dr <= 1; dr++) {
            for (let dc = -1; dc <= 1; dc++) {
              if (dr === 0 && dc === 0) continue;
              const nr = (r + dr + lifeRows) % lifeRows;
              const nc = (c + dc + lifeCols) % lifeCols;
              neighbors += lifeGrid[nr][nc];
            }
          }
          next[r][c] = lifeGrid[r][c] ? (neighbors === 2 || neighbors === 3 ? 1 : 0) : (neighbors === 3 ? 1 : 0);
        }
      }

      lifeGrid = next;
    }

    // Main loop
    function lifeLoop() {
      if (!lifeRunning) return;
      drawLife();
      updateLife();
      requestAnimationFrame(lifeLoop);
    }

    // Button to start/stop
    lifeBtn.addEventListener('click', () => {
      lifeRunning = !lifeRunning;

      if (lifeRunning) {
        resizeCanvas();
        lifeLoop();
        lifeBtn.textContent = 'stop life';
      } else {
        lifeBtn.textContent = 'life';
        ctx.clearRect(0, 0, canvas.width, canvas.height);
      }
    });

    // Resize canvas dynamically
    window.addEventListener('resize', () => {
      if (lifeRunning) resizeCanvas();
    });
  </script>
</body>

</html>